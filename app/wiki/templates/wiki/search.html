{% extends "base_external.html" %}
{% load customfilters %}
{% block content %}
    <main id="main-content" class="max-w-full flex-1 font-lato px-2">
        <form class="mx-auto max-w-4xl mt-4 px-4 py-4 shadow gap-2 rounded bg-white flex items-center"
              action=""
              method="post">
            {% csrf_token %}
            <label for="{{ form.q.id_for_label }}"
                   class="flex-0 text-2xl font-bold text-azure-700 font-playfair">{{ form.q.label }}:</label>
            {{ form.q|addclass:"flex-1 rounded border-2 shadow border-azure-500 focus:border-azure-200 focus:ring-2 focus:ring-azure-200 focus:bg-azure-50 focus:outline-none focus:shadow-lg px-2 py-1" }}
            <button type="submit"
                    class="px-2 py-1 rounded border border-azure-500 bg-azure-200 shadow hover:shadow-lg hover:border-azure-300 hover:bg-azure-100 text-azure-900 hover:text-azure-700 font-bold">
                <span class="sr-only sm:hidden">Search</span>
                <span class="hidden sm:inline">Search</span>
                <svg xmlns="http://www.w3.org/2000/svg"
                     fill="none"
                     viewBox="0 0 24 24"
                     stroke-width="1.5"
                     stroke="currentColor"
                     class="w-6 h-6 inline">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                </svg>
            </button>
        </form>
        <div class="mx-auto max-w-4xl mt-4 px-4 pt-3 pb-4 shadow grid grid-cols-1 md:grid-cols-2 gap-2 rounded bg-white">
            <header class="flex flex-col gap-2" id="piece-header">
                <div class="flex flex-col gap-4 flex-wrap items-center justify-center">
                    <div>
                        <h2 class="text-5xl font-bold text-byzantium-500 border-b-2 border-byzantium-500 px-2 font-playfair">Results</h2>
                    </div>
                </div>
            </header>
            {% if piece_list %}
                {% with showlink=True list_title="Pieces" %}
                    {% include "wiki/components/small_lists/_piece_list.html" %}
                {% endwith %}
            {% endif %}
            {% if skill_list %}
                <div class="flex flex-col p-1">
                    <div class="flex">
                        <h2 class="text-4xl font-bold text-byzantium-500 border-b-2 border-byzantium-500 pl-2 pr-4 mb-2 font-playfair">
                            Skills
                        </h2>
                    </div>
                    <ul class="flex flex-wrap gap-2">
                        {% for skill in skill_list %}
                            <li class="rounded border border-pink-500 bg-pink-200 shadow hover:shadow-lg hover:border-pink-300 hover:bg-pink-100 hover:text-slate-800">
                                <a href="{{ skill.get_absolute_url }}" class="block p-1">{{ skill.name }}</a>
                            </li>
                        {% endfor %}
                        <li class="rounded border border-slate-500 bg-slate-200 shadow hover:border-slate-300 hover:bg-slate-100 hover:text-slate-800 hover:shadow-lg">
                            <a href="{% url 'skill_list' %}" class="flex flex-col p-1">
                                <h3 class="italic">View All Skills…</h3>
                            </a>
                        </li>
                    </ul>
                </div>
            {% endif %}
            {% if book_list %}
                <div class="flex flex-col p-1">
                    <div class="flex">
                        <h2 class="text-4xl font-bold text-byzantium-500 border-b-2 border-byzantium-500 pl-2 pr-4 mb-2 font-playfair">
                            Books
                        </h2>
                    </div>
                    <ul class="space-y-2">
                        {% for book in book_list %}
                            <li class="rounded border border-emerald-500 bg-emerald-200 shadow-lg hover:border-emerald-300 hover:bg-emerald-100 hover:text-slate-800">
                                <a href="{{ book.get_absolute_url }}" class="flex flex-col p-2">
                                    <h3 class="text-xl font-bold">
                                        <span class="underline">{{ book.title }}</span> - {{ book.composer.name }}
                                    </h3>
                                    <p class="text-sm">{{ book.description }}</p>
                                </a>
                            </li>
                        {% endfor %}
                        <li class="rounded border border-slate-500 bg-slate-200 shadow hover:border-slate-300 hover:bg-slate-100 hover:text-slate-800 hover:shadow-lg">
                            <a href="{% url 'book_list' %}" class="flex flex-col p-2">
                                <h3 class="text-lg italic">View All Books…</h3>
                            </a>
                        </li>
                    </ul>
                </div>
            {% endif %}
            {% if composer_list %}
                <div class="flex flex-col p-1">
                    <div class="flex">
                        <h2 class="text-4xl font-bold text-byzantium-500 border-b-2 border-byzantium-500 pl-1 pr-4 mb-2 font-playfair">
                            Composers
                        </h2>
                    </div>
                    <ul class="flex flex-wrap gap-2">
                        {% for composer in composer_list %}
                            <li class="rounded border border-orange-500 bg-orange-200 shadow-lg hover:border-orange-300 hover:bg-orange-100 hover:text-slate-800">
                                <a href="{{ composer.get_absolute_url }}" class="block p-1">{{ composer.name }}</a>
                            </li>
                        {% endfor %}
                        <li class="rounded border border-slate-500 bg-slate-200 shadow hover:border-slate-300 hover:bg-slate-100 hover:text-slate-800 hover:shadow-lg">
                            <a href="{% url 'composer_list' %}" class="flex flex-col p-1">
                                <h3 class="italic">View All Composers…</h3>
                            </a>
                        </li>
                    </ul>
                </div>
            {% endif %}
            {% if standaloneexercise_list %}
                {% with showlink=True list_title="Etudes" piece_list=standaloneexercise_list %}
                    {% include "wiki/components/small_lists/_piece_list.html" %}
                {% endwith %}
            {% endif %}
        </div>
    </main>
{% endblock content %}
