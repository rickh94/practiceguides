{% load customfilters %}
<li>
    <ul role="list" class="-mx-2 space-y-2">
        <li>
            <a href="{% url 'goal_list' %}"
               x-data
               hx-get="{% url 'goal_list' %}"
               hx-push-url="{% url 'goal_list' %}"
               hx-swap="none"
               :class="$store.location.path === new URL($el.href).pathname ? 'bg-jade-500 text-smoky border-smoky' : 'text-smoky/70 border-smoky/50 hover:text-smoky hover:border-smoky hover:bg-jade-500'"
               @click="navOpen = false"
               class="border-4 group mb-4 flex items-start gap-x-3 p-2 text-lg leading-wide font-semibold">
                <svg class="h-6 w-6 shrink-0"
                     fill="none"
                     viewBox="0 0 24 24"
                     stroke-width="1.5"
                     stroke="currentColor"
                     aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                </svg>
                Dashboard
            </a>
        </li>
        {% for goal in request.user.goals.all %}
            <li id="goal-nav-link-1">
                <a href="{% url 'goal_detail' pk=goal.id %}"
                   x-data
                   hx-get="{% url 'goal_detail' pk=goal.id %}"
                   hx-push-url="{% url 'goal_detail' pk=goal.id %}"
                   hx-swap="none"
                   :class="$store.location.path === new URL($el.href).pathname ? 'bg-jade-500 text-smoky border-smoky' : 'text-smoky/70 border-smoky/50 hover:text-smoky hover:bg-jade-500 hover:border-smoky'"
                   class="group flex gap-x-3 p-2 text-lg leading-6 font-semibold border-b-4">
                    <span class="flex h-6 w-6 pt-1 shrink-0 items-center justify-center border border-smoky/80 bg-smoky/20 text-[1rem] font-medium text-smoky/70 group-hover:text-smoky">
                    {{ goal.name|icon_from_word }}</span>
                    <span class="truncate">{{ goal.name }}</span>
                </a>
            </li>
        {% endfor %}
    </ul>
</li>
